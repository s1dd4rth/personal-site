import{j as F}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";const R={yellow:"#FFE066",pink:"#FFD6E0",blue:"#A7C7E7",green:"#B6E2A1",red:"#FF8C8C",orange:"#FFB347",lightblue:"#B3E6FF"},B="yellow";function z(){return Math.floor(Math.random()*9)-4}function N({color:A=B,x:c=0,y:d=0,rotation:g,draggable:k=!1,size:W="auto",children:s}){const[D,j]=i.useState(0);i.useEffect(()=>{j(g!==void 0?g:z())},[g]);const H=R[A]||R[B];let o=[],e=0;typeof s=="string"?(o=s.split(`
`),e=s.replace(/\n/g,"").length):Array.isArray(s)?(o=s,e=s.join("").length):(o=[s],e=String(s).length);let t="1.25rem";e>28&&(t="1.05rem"),e>40&&(t="0.92rem"),e>55&&(t="0.8rem"),e>65&&(t="0.7rem"),e>80&&(t="0.62rem"),e>100&&(t="0.55rem"),parseFloat(t)<.7&&(t="0.7rem");let p,w,v,x,h,y=W;if(W==="auto"){const r=o.reduce((n,a)=>{typeof a!="string"&&(a=String(a));const X=a.split(/\s+/).reduce((Y,M)=>M.length>Y?M.length:Y,0);return X>n?X:n},0);e>32||o.length>2||r>12?y="large":y="small"}y==="large"?(p=w="180px",v=void 0,x="240px",h="auto"):(p=w="120px",v=x="140px",h="auto");const[u,C]=i.useState({x:0,y:0}),[l,L]=i.useState(!1),f=i.useRef({mouseX:0,mouseY:0,offsetX:0,offsetY:0});function O(r){k&&(L(!0),f.current={mouseX:r.clientX,mouseY:r.clientY,offsetX:u.x,offsetY:u.y},document.body.style.userSelect="none")}function b(r){if(!l)return;const n=r.clientX-f.current.mouseX,a=r.clientY-f.current.mouseY;C({x:f.current.offsetX+n,y:f.current.offsetY+a})}function S(){L(!1),document.body.style.userSelect=""}i.useEffect(()=>(l?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",S)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)}),[l]),i.useEffect(()=>{C({x:0,y:0})},[c,d]);const E=typeof c=="number"&&typeof d=="number",m=o.length===1&&typeof o[0]=="string"&&o[0].split(/\s+/).length===1;return F.jsx("div",{style:{position:E?"absolute":"relative",left:E?c+u.x:void 0,top:E?d+u.y:void 0,userSelect:"none",borderRadius:0,boxShadow:"0 12px 32px 0 rgba(0,0,0,0.18), 0 1.5px 4px 0 rgba(0,0,0,0.10)",width:m?"fit-content":h,minWidth:p,minHeight:w,maxWidth:v,maxHeight:x,fontFamily:"var(--font-marker)",fontSize:t,background:H,padding:"1.2rem",fontWeight:800,color:"#222",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 0.5rem",transform:`rotate(${D}deg)`+(l?" scale(1.04)":""),zIndex:10,letterSpacing:"-0.5px",cursor:k?l?"grabbing":"grab":"default",transition:l?"none":"box-shadow 0.2s, transform 0.2s",overflow:"visible",overflowWrap:"break-word",wordBreak:"normal",whiteSpace:m?"nowrap":"pre-line"},onMouseDown:O,children:F.jsx("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"visible",overflowWrap:"break-word",wordBreak:"normal",whiteSpace:m?"nowrap":"pre-line"},children:o.map((r,n)=>F.jsx("div",{style:{fontSize:t,lineHeight:1.2,fontWeight:n===1?500:800,color:n===1?"#444":"#222",marginTop:n===1?"0.5rem":0,overflow:"visible",textOverflow:"unset",whiteSpace:m?"nowrap":"pre-line",overflowWrap:"break-word",wordBreak:"normal",width:"100%"},children:r},n))})})}export{N as S};
